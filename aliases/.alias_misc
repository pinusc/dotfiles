alias upfont="sudo fc-cache -fv"
alias cal="cal -m" # Monday it's always the first day of the week here!
alias tmux="tmux -2"
alias pingg="ping -a www.google.com"

# Python aliases
alias v="source venv/bin/activate"
alias d="deactivate"

alias setclip='xclip -selection c'
alias getclip='xclip -selection clipboard -o'

alias screensaver_off="xset s off;xset -dpms;xset s noblank"

#fast edit shiortcuts
[ -f "/usr/bin/nvim" ] && alias vim="/usr/bin/nvim"
alias :e=em

#systemctl aliases
alias sysa="sudo systemctl start"
alias syso="sudo systemctl stop"
alias syss="sudo systemctl status"
alias joxe="sudo journalctl -xe"
alias joxeu="sudo journalctl -xe --unit"

alias did="vim +'normal Go' +'r!date' ~/docs/did.txt"
alias mail="mail -r giuseppe@gstelluto.com"
>&/dev/null hash neomutt && alias mutt='neomutt'
alias mailsync="pkill -SIGUSR1 offlineimap"

alias tarsnap="tarsnap --configfile $HOME/.config/tarsnap/tarsnaprc"

mdmake() {
    cp "$HOME/.config/templates/pandoc/Makefile" "."
    cp "$HOME/.config/templates/pandoc/doc.md" "$1"
}


>&/dev/null hash pinfo && alias info='pinfo'
>&/dev/null hash exa && {
    alias ls='exa'   
    alias lt='exa -T'
    alias lg='exa --long --git'
}
alias l='ls'
alias ll='ls -lh'
alias la='ll -a'

[ "$SHELL" = /bin/zsh ] && alias -g LL='| less -R'
hash rg &>/dev/null && alias rgc='rg --color always'
hash fd &>/dev/null && alias fdc='fd --color always'

export _JAVA_AWT_WM_NONREPARENTING=1

addalias() {
    echo "alias $1=\"$2\"" >> ~/.zsh_aliases
}

[ -e "$HOME/bin/util/gpg-wrapper.zsh" ] && source ~/bin/util/gpg-wrapper.zsh

alias riot-web="qutebrowser ':open -w https://riot.im/app/#'"

alias https="http --default-scheme=https"

read_all_mail() {
    find "$MAIL" -type f | grep -vE ',[^,]*S[^,]*$' | xargs -I{} bash -c 'mv {} $(echo {} | sed "s/new/cur/; s/2,$/2,S/")'
}

copy_dotfiles() {
    [[ -z "$1" ]] && echo "You need to provide a ssh hostname!" && return
    server="$1"
    echo "Copying to: $server"
    [[ "${server: -1}" != ":" ]] && server="$1:"
    rsync -vh ~/dotfiles/{bash,aliases,tmux}/.* "$server"
}

sync_dotfiles() {
    copy_dotfiles sofronia
    copy_dotfiles astolfo
    copy_dotfiles gurdulu
    copy_dotfiles hong.io
}

move_all_output() {
    sink="$1"
    inputs=$(pactl list short sink-inputs | cut -f1)
    echo "$inputs" | xargs -I{} pactl move-sink-input {} $1
}

fan(){
    echo "level $1" | sudo tee /proc/acpi/ibm/fan
}

alias gamma_vga="xgamma -ggamma 0.58 -bgamma 0.7 -rgamma 0.58"

# for mnemonics/completion
alias xgamma_vga=gamma_vga

alias gamma_laptop="xgamma -rgamma 0.78 -bgamma 0.65 -ggamma 0.72"

tldr() {
    curl -s "cheat.sh/$(echo -n "$*" | jq -sRr @uri)"
}

tcl_tv() {
    xrandr --newmode "1366x768"x0.0   69.30  1366 1404 1426 1436  768 771 777 803 -hsync -vsync
    xrandr --addmode HDMI2 "1366x768"x0.0
    xrandr --output HDMI2 --left-of LVDS1 --mode "1366x768"x0.0 --gamma 1 --output LVDS1 --primary
    killall panel; panel &
    ~/bin/util/wallpaper/random_wallpaper.sh
}
